<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

  <title>E2E and Visual Testing in Shopware 6</title>

  <link rel="stylesheet" href="dist/reset.css" />
  <link rel="stylesheet" href="dist/reveal.css" />
  <link rel="stylesheet" href="dist/theme/white.css" />

  <!-- Theme used for syntax highlighted code -->
  <link rel="stylesheet" href="plugin/highlight/monokai.css" />
  <style>
   .col-2 {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
   }

   .reveal pre {
    width: 100%;
   }

   .reveal pre code {
    max-height: unset;
   }
  </style>
 </head>
 <body>
  <div class="reveal">
   <footer class="minimal">
    <div class="left">E2E and Visual Testing in Shopware 6</div>
    <div class="center">
     <img class="logo" src="assets/sw6-logo.svg" alt="Shopware Logo" />
    </div>
    <div class="right">@Slice&amp;Dice</div>
   </footer>
   <div class="slides">
    <section data-background-transition="slide">
     <h2>Apply E2E and Visual Testing in Shopware 6</h2>
    </section>

    <section>
     <section data-transition="convex-in fade-out">
      <h3>About Us</h3>
     </section>

     <section data-transition="convex-in fade-out">
      <img src="assets/team-members.png" />
     </section>

     <section data-background-transition="slide" data-background="assets/themes.jpeg">
			 <aside class="notes">
				- Clean and sophisticated design
				- The open design offers you plenty of space to highlight your product’s features
				- Striking colour effects by simply changing the primary colour
				- With just a few, simple changes to the primary colour you can create wonderful colour effects, thus impressing customers.
			 </aside>
		 </section>
    </section>

    <section>
     <h2>Agenda</h2>
     <ul>
      <li class="fragment fade-in-then-semi-out"><span>The Challenges</span></li>
      <li class="fragment fade-in-then-semi-out"><span>Why Cypress?</span></li>
      <li class="fragment fade-in-then-semi-out"><span>Why Percy?</span></li>
      <li class="fragment fade-in-then-semi-out"><span>Best Practices</span></li>
      <li class="fragment fade-in-then-semi-out"><span>Feedbacks/Questions</span></li>
     </ul>
		 <aside class="notes">
			Here is the agenda for today. first we will talk about what exactly we do in development Shopware theme
			<br>
			how we can delivery awesome themes to our users in a right time.
			<br>
			and How we can reduce bugs and spend more time on our users and improvement.
		</aside>
    </section>

    <section>
     <section>
      <h2>The Challenges!</h2>
     </section>

     <section data-transition="convex-in fade-out">
      <h3>we have monthly release</h3>
      <img src="assets/check-release.png" />
			<aside class="notes">
				at the Shopware, we have monthly release includes many features which Shopware community wanted.
				<br>
				we as a theme development always want to give the best to our user, that's why we also have montly update for your premium themes to reflect the newest update, cool features.
			</aside>
     </section>

     <section data-transition="convex-in fade-out">
      <h3>we usually update code</h3>
      <div class="col-2">
       <img src="assets/css-old.png" alt="" />
       <img src="assets/css-new.png" alt="" />
      </div>
			<aside>
				not only responsible for keep our themes up to date but we also improve our UI. we want our user had the best experience when using our themes. what's why we constantly update and delivery high quality. 
				<br>
				but as you know these changes will have side effects which we are unknown. it may cause the UI is breaking or make something doesnt work anymore.  we want to reduce / prevent these kind of issues as much as possible. but to do that, we need to test thoroughly when there are something changes. this takes too much time and costly.
			</aside>
     </section>

     <section data-transition="convex-in fade-out">
      <h3>and we dont want unexpected changes</h3>
      <img style="width: 100%;" src="assets/unexpected-changes.gif" alt="unexpected changes" />
     </section>

     <section data-transition="convex-in fade-out">
      <h3>so we check all pages</h3>
      <img style="width: 100%;"  src="assets/check-all-page.gif" alt="we check all pages" />
     </section>

     <section data-transition="convex-in fade-out">
      <h3>time consuming!</h3>
      <img src="assets/time-consuming.gif" alt="Time Consuming" />
			<aside class="notes">
				that's why we started adding Cypress to our themes.
				<br>
				there are ton of reason why you should start with Cypress. Here are some key points which I think you should choose Cypress.
			</aside>
     </section>

    </section>

    <section>
     <section>
      <h3>Why <span style="color: #04c38e;">Cypress</span>?</h3>
      <ul>
       <li class="fragment fade-in-then-semi-out">Easy to use, especially you are developers</li>
       <li class="fragment fade-in-then-semi-out">Simple to setup</li>
       <li class="fragment fade-in-then-semi-out">Built on top of Mocha and Chai</li>
       <li class="fragment fade-in-then-semi-out">Cypress Has Debugging Capabilities</li>
       <li class="fragment fade-in-then-semi-out">Well-documented and easy to understand</li>
      </ul>
     </section>
		 <aside class="notes">
			E2E test is basically test which testing the workflow from the beginning to the end.
		 </aside>
    </section>

    <section>
     <section>
      <h3>Our test structure</h3>
      <img src="assets/e2e-structure.png" />
     </section>

     <section>
      <h3>Fixtures</h3>
      <div class="col-2">
       <img src="assets/fixture.png" />
       <pre data-id="code">
								<code data-line-numbers class="hljs json" data-trim>
									{
										"addresses": [
											{
												"firstName": "Pep",
												"lastName": "Eroni",
												"street": "Ebbinghoff 10",
												"zipcode": "48624",
												"city": "Schöppingen"
											}
										]
									}		
								</code>
							</pre>
      </div>
     </section>

     <section>
      <h3>Integration</h3>
      <pre data-id="code">
							<code data-line-numbers class="hljs javascript" data-trim>
								import AccountPageObject from 'support/pages/account.page-object';
								const accountPage = new AccountPageObject();

								describe('Account login', () => {
									beforeEach(() => {...});
							
									it('@visual: check appearance of login with wrong credentials', () => {
											cy.get('.account-menu [type="button"]').click();
											cy.get('.account-menu-dropdown').should('be.visible');
							
											cy.get('.account-menu-login-button').click();
											accountPage.login();
							
											cy.get('.account-welcome h1').should((element) => {
												expect(element).to.contain('Overview');
											});

											cy.takeSnapshot('[Account] Login', '.account');
									});
								});
							</code>
						</pre>
     </section>

     <section>
      <h3>Plugins</h3>
      <pre data-id="code">
							<code data-line-numbers class="hljs javascript" data-trim>
								// This function is called when a project is opened or re-opened
								// (e.g. due to the project's config changing)

								require('@babel/register');
								
								const selectTestsWithGrep = require('cypress-select-tests/grep');
									
								module.exports = (on, config) => {
									on('file:preprocessor', selectTestsWithGrep(config));
								};
							</code>
			</pre>
			<aside class="notes">
				- Plugins enable you to modify, or extend the internal behavior of Cypress.
				- Plugins allow you to write your own custom code that executes during particular stages of the Cypress lifecycle.
				- The event file:preprocessor is used to customize how your test code is transpiled and sent to the browse
			</aside>
     </section>

     <section>
      <h3>Support</h3>
      <pre data-id="code">
							<code data-line-numbers class="hljs javascript" data-trim>
								/**
									* Takes a snapshot for percy visual testing
									* @memberOf Cypress.Chainable#
									* @name takeSnapshot
									* @param {String} title - Title of the screenshot
									* @param {String} [selectorToCheck = null] - Unique selector to make sure the module is ready for being snapshot
									* @param {Object} [width = {widths: [375, 768, 1920]}] - Screen width used for snapshot
									* @function
									*/
									Cypress.Commands.add('takeSnapshot', (title, selectorToCheck = null, width = {widths: [375, 768, 1920]}) => {
										if (!width) {
												cy.percySnapshot(title);
												return;
										}
										cy.percySnapshot(title, width);
									});
							</code>
						</pre>
     </section>

     <section>
      <h3>Support</h3>
      <img src="assets/shopware-test-suites.png" alt="" />
      <br />
      <a style="font-size: 14px; margin-top: -30px; display: block;" href="https://github.com/shopware/e2e-testsuite-platform" target="_blank"
       >E2E Platform Testsuite for Shopware 6</a
      >
     </section>
    </section>

    <section>
     <section>
      <h2>Why <span style="color: #9e66bf">Percy</span>?</h2>
     </section>

     <section style="text-align: left">
      <div style="display: flex; gap: 20px">
       <img src="assets/checked.svg" style="width: 60px; height: 60px; margin-top: 16px" alt="" />
       <p style="font-weight: bold">Automated process of detecting and reviewing visual UI changes.</p>
      </div>
     </section>

		 <section>
			<img src="assets/differ.gif" alt="" />
		 </section>

     <section style="text-align: center">
      <div style="display: flex; gap: 20px">
       <img src="assets/checked.svg" style="width: 60px; height: 60px; margin-top: 16px" alt="" />
       <p style="font-weight: bold; text-align: left">
        Protect against visual regressions and bugs across browsers and responsive widths.
       </p>
      </div>
     </section>

		 <section>
			<div style="display: grid; grid-template-columns: 30% 70%;">
				<img src="assets/browsers.png" alt="" />
      	<img src="assets/responsive-width.gif" alt="" />
			</div>
		 </section>

     <section style="text-align: center">
      <div style="display: flex; gap: 20px; justify-content: flex-start">
       <img src="assets/checked.svg" style="width: 60px; height: 60px; margin-top: 16px" alt="" />
       <p style="font-weight: bold">
        Get started with visual testing for <span style="font-weight: bold; color: #0e8a09">FREE</span>
       </p>
      </div>
      <img style="max-height: 600px" src="assets/percy-pricing.png" alt="" />
     </section>

    </section>

    <section>
     <h2>Best Practices</h2>
     <ul>
      <li>
       <a href="https://docs.cypress.io/guides/references/best-practices">Cypress Docs</a>
      </li>
      <li>
       <a
        href="https://developer.shopware.com/docs/resources/guidelines/testing/e2e-best-practises#cypress-commands-and-their-queue"
        >Shopware Best practises on writing end-to-end tests</a
       >
      </li>
     </ul>
    </section>

    <section>
     <h2>Feedbacks / Questions</h2>
    </section>
   </div>
  </div>

  <script src="dist/reveal.js"></script>
  <script src="plugin/notes/notes.js"></script>
  <script src="plugin/markdown/markdown.js"></script>
  <script src="plugin/highlight/highlight.js"></script>
  <script>
   // More info about initialization & config:
   // - https://revealjs.com/initialization/
   // - https://revealjs.com/config/
   Reveal.initialize({
    hash: true,

    // Learn about plugins: https://revealjs.com/plugins/
    plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
   });
  </script>
 </body>
</html>
